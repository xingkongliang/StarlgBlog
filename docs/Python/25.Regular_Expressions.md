---
sidebar_position: 25
---


# Python æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegular Expressionsï¼‰

æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegexï¼‰æ˜¯ä¸€ç§å¼ºå¤§çš„å­—ç¬¦ä¸²åŒ¹é…å’Œå¤„ç†å·¥å…·ï¼ŒPython æä¾›äº† `re` æ¨¡å—æ¥å¤„ç†æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¹¿æ³›ç”¨äº**æ•°æ®æ¸…ç†ã€æ–‡æœ¬è§£æã€æ¨¡å¼åŒ¹é…ç­‰**ä»»åŠ¡ã€‚

---

## **1. `re` æ¨¡å—**
### **å¸¸ç”¨å‡½æ•°**
| **å‡½æ•°** | **ä½œç”¨** |
|----------|---------|
| `re.match(pattern, string)` | ä»å­—ç¬¦ä¸²å¼€å¤´åŒ¹é… |
| `re.search(pattern, string)` | æœç´¢æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é… |
| `re.findall(pattern, string)` | è¿”å›æ‰€æœ‰åŒ¹é…é¡¹çš„åˆ—è¡¨ |
| `re.finditer(pattern, string)` | è¿”å›æ‰€æœ‰åŒ¹é…é¡¹çš„è¿­ä»£å™¨ |
| `re.sub(pattern, replacement, string)` | æ›¿æ¢åŒ¹é…çš„å†…å®¹ |
| `re.split(pattern, string)` | æŒ‰æ¨¡å¼æ‹†åˆ†å­—ç¬¦ä¸² |
| `re.compile(pattern)` | é¢„ç¼–è¯‘æ­£åˆ™ï¼Œæé«˜åŒ¹é…æ•ˆç‡ |

---

### **ç¤ºä¾‹**
#### **1) `re.match()` - ä»å­—ç¬¦ä¸²å¼€å¤´åŒ¹é…**
```python
import re

pattern = r"\d+"  # åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—
result = re.match(pattern, "123abc")
print(result.group())  # è¾“å‡º: 123

result = re.match(pattern, "abc123")
print(result)  # è¾“å‡º: None (å› ä¸ºåŒ¹é…å¿…é¡»ä»å­—ç¬¦ä¸²å¼€å¤´å¼€å§‹)
```

---

#### **2) `re.search()` - æœç´¢æ•´ä¸ªå­—ç¬¦ä¸²**
```python
import re

pattern = r"\d+"
result = re.search(pattern, "abc123xyz456")
print(result.group())  # è¾“å‡º: 123
```
> `re.search()` åªè¿”å›**ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹**ï¼Œè€Œ `re.findall()` è¿”å›æ‰€æœ‰åŒ¹é…é¡¹ã€‚

---

#### **3) `re.findall()` - æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…é¡¹**
```python
import re

pattern = r"\d+"
result = re.findall(pattern, "abc123xyz456")
print(result)  # è¾“å‡º: ['123', '456']
```

---

#### **4) `re.finditer()` - è¿­ä»£æŸ¥æ‰¾**
```python
import re

pattern = r"\d+"
matches = re.finditer(pattern, "abc123xyz456")

for match in matches:
    print(match.group())  # è¾“å‡º: 123 456
```

---

#### **5) `re.sub()` - å­—ç¬¦ä¸²æ›¿æ¢**
```python
import re

pattern = r"\d+"
replacement = "XXX"
text = "Phone: 123-456-7890"
result = re.sub(pattern, replacement, text)
print(result)  # è¾“å‡º: Phone: XXX-XXX-XXX
```

---

#### **6) `re.split()` - æŒ‰æ¨¡å¼æ‹†åˆ†å­—ç¬¦ä¸²**
```python
import re

pattern = r"\s+"  # åŒ¹é…ç©ºæ ¼
text = "Hello   world Python Regex"
result = re.split(pattern, text)
print(result)  # è¾“å‡º: ['Hello', 'world', 'Python', 'Regex']
```

---

#### **7) `re.compile()` - é¢„ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼**
```python
import re

pattern = re.compile(r"\d+")
print(pattern.findall("Order 42, price 100"))  # è¾“å‡º: ['42', '100']
```
> `re.compile()` é€‚ç”¨äºå¤šæ¬¡ä½¿ç”¨ç›¸åŒæ­£åˆ™è¡¨è¾¾å¼çš„æƒ…å†µï¼Œå¯ä»¥æé«˜æ•ˆç‡ã€‚

---

## **2. å¸¸è§æ­£åˆ™åŒ¹é…è¯­æ³•**
### **1) å…ƒå­—ç¬¦**
| **ç¬¦å·** | **æè¿°** | **ç¤ºä¾‹** | **åŒ¹é…ç»“æœ** |
|----------|---------|---------|-------------|
| `.` | ä»»æ„å­—ç¬¦ï¼ˆé™¤æ¢è¡Œç¬¦ï¼‰ | `c.t` | `cat`, `cut` |
| `^` | åŒ¹é…å­—ç¬¦ä¸²å¼€å¤´ | `^Hello` | `Hello world` |
| `$` | åŒ¹é…å­—ç¬¦ä¸²ç»“å°¾ | `world$` | `Hello world` |
| `*` | åŒ¹é…**0 æˆ–æ›´å¤š**æ¬¡ | `ab*` | `a`, `ab`, `abb` |
| `+` | åŒ¹é…**1 æˆ–æ›´å¤š**æ¬¡ | `ab+` | `ab`, `abb` |
| `?` | åŒ¹é…**0 æˆ– 1 æ¬¡** | `ab?` | `a`, `ab` |
| `{n}` | åŒ¹é…**n æ¬¡** | `a{3}` | `aaa` |
| `{n,}` | **è‡³å°‘**åŒ¹é… n æ¬¡ | `a{2,}` | `aa`, `aaa`, `aaaa` |
| `{n,m}` | **è‡³å°‘ n æ¬¡ï¼Œè‡³å¤š m æ¬¡** | `a{2,4}` | `aa`, `aaa`, `aaaa` |

---

### **2) å­—ç¬¦é›†**
| **è¡¨è¾¾å¼** | **æè¿°** | **ç¤ºä¾‹** | **åŒ¹é…** |
|------------|---------|---------|---------|
| `[abc]` | åŒ¹é… `a`ã€`b` æˆ– `c` | `b` | `b` |
| `[^abc]` | **ä¸**åŒ¹é… `a`ã€`b` æˆ– `c` | `d` | `d` |
| `[a-z]` | åŒ¹é…å°å†™å­—æ¯ | `e` | `e` |
| `[0-9]` | åŒ¹é…æ•°å­— | `5` | `5` |

---

### **3) é¢„å®šä¹‰å­—ç¬¦**
| **è¡¨è¾¾å¼** | **ç­‰ä»·äº** | **åŒ¹é…å†…å®¹** |
|------------|---------|------------|
| `\d` | `[0-9]` | æ•°å­— |
| `\D` | `[^0-9]` | éæ•°å­— |
| `\s` | `[ \t\n\r\f\v]` | ç©ºç™½å­—ç¬¦ |
| `\S` | `[^ \t\n\r\f\v]` | éç©ºç™½å­—ç¬¦ |
| `\w` | `[a-zA-Z0-9_]` | å•è¯å­—ç¬¦ï¼ˆå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼‰ |
| `\W` | `[^a-zA-Z0-9_]` | éå•è¯å­—ç¬¦ |

---

### **4) åˆ†ç»„å’Œå¼•ç”¨**
| **è¡¨è¾¾å¼** | **æè¿°** | **ç¤ºä¾‹** | **åŒ¹é…** |
|------------|---------|---------|---------|
| `(abc)` | æ•è·ç»„ | `(ab)+` | `abab` |
| `\1` | åå‘å¼•ç”¨ | `(ab)\1` | `abab` |
| `(?:abc)` | **éæ•è·ç»„** | `(?:ab)+` | `abab` |

#### **ç¤ºä¾‹ï¼šåˆ†ç»„åŒ¹é…**
```python
import re

pattern = r"(\d{3})-(\d{3})-(\d{4})"
text = "Phone: 123-456-7890"
match = re.search(pattern, text)

if match:
    print(match.group())  # è¾“å‡º: 123-456-7890
    print(match.group(1))  # è¾“å‡º: 123
    print(match.group(2))  # è¾“å‡º: 456
    print(match.group(3))  # è¾“å‡º: 7890
```

---

## **æ€»ç»“**
| **åŠŸèƒ½** | **å¸¸ç”¨æ–¹æ³•** | **ç¤ºä¾‹** |
|---------|---------|---------|
| **åŒ¹é…å­—ç¬¦ä¸²** | `re.match()`, `re.search()` | `re.search(r"\d+", "abc123")` |
| **æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…é¡¹** | `re.findall()` | `re.findall(r"\d+", "abc123xyz456")` |
| **æ›¿æ¢å­—ç¬¦ä¸²** | `re.sub()` | `re.sub(r"\d+", "X", "Phone: 123-456")` |
| **æ‹†åˆ†å­—ç¬¦ä¸²** | `re.split()` | `re.split(r"\s+", "Hello  world")` |
| **é¢„ç¼–è¯‘** | `re.compile()` | `pattern = re.compile(r"\d+")` |

Python çš„ `re` æ¨¡å—æä¾›äº†å¼ºå¤§çš„æ­£åˆ™è¡¨è¾¾å¼åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬é«˜æ•ˆåœ°å¤„ç†æ–‡æœ¬æ•°æ®ã€‚ğŸš€